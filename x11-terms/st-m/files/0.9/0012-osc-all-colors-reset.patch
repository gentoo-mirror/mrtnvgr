From 308c5037a7a7554b3179a5cd6e4693dee6cc138a Mon Sep 17 00:00:00 2001
From: mrtnvgr <martynovegorOF@yandex.ru>
Date: Sun, 12 Mar 2023 11:11:35 +0700
Subject: [PATCH] osc all colors reset

---
 st.c | 4 ++++
 st.h | 2 ++
 2 files changed, 6 insertions(+)

diff --git a/st.c b/st.c
index 6a0cd19..0a01129 100644
--- a/st.c
+++ b/st.c
@@ -2018,6 +2018,10 @@ strhandle(void)
 				break;
 			p = strescseq.args[2];
 			/* FALLTHROUGH */
+		case 111: /* all colors reset */
+			xrdb_load();
+			xloadcols();
+			return;
 		case 104: /* color reset */
 			j = (narg > 1) ? atoi(strescseq.args[1]) : -1;
 
diff --git a/st.h b/st.h
index 70e4c8b..3929130 100644
--- a/st.h
+++ b/st.h
@@ -78,6 +78,8 @@ typedef union {
 	const char *s;
 } Arg;
 
+void xrdb_load(void);
+
 void die(const char *, ...);
 void redraw(void);
 void draw(void);
-- 
2.39.2

